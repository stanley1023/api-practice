<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>

</head>

<body style="padding-bottom: 3000px;">
  <div id="users" style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px;">
  </div>

  <ol id="listContainer" style="background-color: grey; color: white;"></ol>

  <h2>COMPLETED TODOs</h2>
  <ol id="forTodo"></ol>

  <h2>NOT COMPLETED TODOs</h2>
  <ol id="incompleteTodo"></ol>

  <button onclick="addTodo()">
    Add Todo
  </button>

  <button onclick="editTodo()">
    Edit Todo</button>
  <script>
    // Fetching user data
    fetch('https://jsonplaceholder.typicode.com/users')
      .then(response => response.json())
      .then(data => {
        console.log(data)
        const users = document.getElementById('users');

        data.forEach(user => {
          const li = document.createElement('div');
          li.textContent = user.name;
          li.style.border = '1px solid black';
          li.style.backgroundColor = "aqua"
          li.style.padding = "10px"
          li.style.display = "flex"
        

          const email = document.createElement('p');
          email.textContent = user.email;
          email.style.marginRight = "10px"

          const address = document.createElement('p');
          address.textContent = user.address.city
          address.style.marginRight = "10px"
      

          const phone = document.createElement('p');
          phone.textContent = user.phone;

          li.appendChild(email);
          li.appendChild(address);
          li.appendChild(phone);
          users.appendChild(li);
        });
      })
      .catch(error => console.error('Error fetching data:', error));


    // Fetching posts data
    fetch('https://jsonplaceholder.typicode.com/posts')
      .then(response => response.json())
      .then(data => {
        console.log(data)
        const listContainer = document.getElementById('listContainer');
        data.slice(-10).forEach(element => {
          const list = document.createElement('li');
          list.textContent = element.title

          listContainer.appendChild(list);
        });
      })
      .catch(error => console.error('Error fetching data:', error));


    fetch('https://jsonplaceholder.typicode.com/todos')
      .then(response => response.json())
      .then(data => {
        console.log(data)
        const forTodo = document.getElementById("forTodo")
        const todos = document.getElementById("todos")
        data.filter(todos => todos.completed).forEach(element => {
          const listItem = document.createElement("li");
          listItem.textContent = element.title

          forTodo.appendChild(listItem)
        })
      })
      .catch(error => console.error('Error fetching data:', error));



    fetch('https://jsonplaceholder.typicode.com/todos')
      .then(response => response.json())
      .then(data => {
        console.log(data)
        const todos = document.getElementById("todos")

        data.filter(todos => !todos.completed).forEach(element => {
          const list = document.createElement("li");
          list.textContent = element.title;

          incompleteTodo.appendChild(list)
        })
      })
      .catch(error => console.error('Error fetching data:', error));


    const addTodo = () => fetch('https://jsonplaceholder.typicode.com/todos', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json'
      },
      body: JSON.stringify({
        userId: 1,
        title: 'New Todo Item by stanley',
        completed: false
      })
    })
      .then(response => response.json())
      .then(data => {
        console.log(data)
      })
      .catch(error => console.error('Error adding todo:', error));

    const editTodo = () => fetch('https://jsonplaceholder.typicode.com/todos/1', {
      method: 'DELETE',
      headers: {
        'Content-Type': 'application/json'
      },
      body: JSON.stringify({
        userId: 1,
        title: 'agu nwa in dubai',
        completed: false
      })
    })
      .then(response => response.json())
      .then(data => {
        console.log(data)
      })
      .catch(error => console.error('Error editing todo:', error));
  </script>
</body>

</html>